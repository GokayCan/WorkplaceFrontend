<div class="content-wrapper">
  <section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>Personel İşlem Sayfası</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a routerLink="/home" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}">Ana Sayfa</a></li>
            <li class="breadcrumb-item"><a routerLink="/staff/" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}">Bölüm Listesi</a></li>
          </ol>
        </div>
      </div>
    </div>
  </section>

  <section class="content">
    <div class="card">
      <div class="card-header">
        <div class="card-tools">
          <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
            <i class="fas fa-minus"></i>
          </button>
          <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      <form #staffForm="ngForm">
        <div class="card-body">
          <div class="form-group mb-2">
            <label for="">Personel Adı</label>
            <input type="text" class="form-control" name="txtFirstName" [(ngModel)]="staff.firstName" #txtFirstName="ngModel" required>
            <small class="text-danger" *ngIf="txtFirstName.invalid && txtFirstName.touched">Zorunlu Alan</small>
          </div>
          <div class="form-group mb-2">
            <label for="">Personel Soyadı</label>
            <input type="text" class="form-control" name="txtLastName" [(ngModel)]="staff.lastName" #txtLastName="ngModel" required>
            <small class="text-danger" *ngIf="txtLastName.invalid && txtLastName.touched">Zorunlu Alan</small>
          </div>
          <div class="form-group mb-2">
            <label for="">Personel Mail Adresi</label>
            <input type="email" class="form-control" name="txtEmail" [(ngModel)]="staff.email" #txtEmail="ngModel" required>
            <small class="text-danger" *ngIf="txtEmail.invalid && txtEmail.touched">Zorunlu Alan</small>
          </div>
          <div class="form-group mb-2">
            <label for="">Personel Şifre</label>
            <input type="password" class="form-control" name="txtPassword" [(ngModel)]="staff.password" #txtPassword="ngModel" required>
            <small class="text-danger" *ngIf="txtPassword.invalid && txtPassword.touched">Zorunlu Alan</small>
          </div>
          <div class="form-group mb-2">
            <label for="">Departman</label>
            <ngx-select #txtSector class="form-control p-0" [formControl]="selectControlDepartment" [allowClear]="true" [items]="mappedDepartments"
            optionValueField="optionId" optionTextField="optionTitle" (ngModelChange)="changeSectorId()"
            placeholder="Sektör Seçin" required> 
          </ngx-select>
            <small class="text-danger" *ngIf="staff.departmentId == undefined" >Zorunlu Alan</small>
          </div>
        </div>
        <div class="card-footer">
          <div style="display:flex;justify-content: end;">
            <button class="btn btn-success btn-sm" title="Kaydet" [disabled]="!staffForm.form.valid" (click)="save()"><i
                class="fas fa-check"></i></button>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>
